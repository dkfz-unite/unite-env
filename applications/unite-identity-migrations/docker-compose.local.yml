version: '3.5'
services:
  identity.migrations.unite:
    build: 
      context: ./src
      dockerfile: ./Dockerfile
      args: 
        USER: ${GITHUB_USER}
        TOKEN: ${GITHUB_TOKEN}
    image: unite.identity.migrations
    container_name: unite.identity.migrations
    environment:
      UNITE_SQL_HOST: sql.unite
      UNITE_SQL_PORT: 5432
      UNITE_SQL_USER: ${SQL_USER}
      UNITE_SQL_PASSWORD: ${SQL_PASSWORD}
      ASPNETCORE_ENVIRONMENT: Development

networks: 
  default:
    external: 
      name: unite
      
    
    